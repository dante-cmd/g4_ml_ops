# src/components/prep/prep.yml
$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: features
version: 1
display_name: Features
type: command

inputs:
  input_datastore:
    type: uri_folder
  ult_periodo:
    type: integer
  platinum_version:
    type: string
  feats_version:
    type: string
  target_version:
    type: string
  periodo:
    type: integer

outputs:
  output_feats_continuidad_horario_datastore:
    type: uri_folder
  output_target_continuidad_horario_datastore:
    type: uri_folder
  

code: .

environment:
  image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:latest
  conda_file:
    channels:
      - conda-forge
    dependencies:
      - python=3.10
      - pip
      - pip:
          - pandas
          - numpy
          - openpyxl
          - pyarrow
          - Unidecode

command: >-
  python continuidad_regular_horario.py 
  --input_datastore ${{inputs.input_datastore}}
  --ult_periodo ${{inputs.ult_periodo}}
  --output_feats_continuidad_horario_datastore ${{outputs.output_feats_continuidad_horario_datastore}}
  --output_target_continuidad_horario_datastore ${{outputs.output_target_continuidad_horario_datastore}}
  --platinum_version ${{inputs.platinum_version}}
  --feats_version ${{inputs.feats_version}}
  --target_version ${{inputs.target_version}}
  --periodo ${{inputs.periodo}}
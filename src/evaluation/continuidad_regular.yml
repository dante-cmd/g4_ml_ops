# src/predict/inicial_regular.yml
$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: Evaluation - Inicial Regular
version: 1
display_name: Prediction - Inicial Regular
type: command

inputs:
  input_predict_continuidad_datastore:
    type: uri_folder
  input_target_continuidad_datastore:
    type: uri_folder
  target_version:
    type: string
  model_periodo:
    type: integer
  model_version:
    type: string
  n_eval_periodos:
    type: integer

outputs:
  output_evaluation_continuidad_datastore:
    type: uri_folder

code: .

environment:
  image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:latest
  conda_file:
    channels:
      - conda-forge
    dependencies:
      - python=3.10
      - pip
      - pip:
          - pandas
          - numpy
          - pyarrow
          - PyYAML
          # - catboost
          # - mlflow
          # - mlflow-azureml
          # - scikit-learn
          # - azure-ai-ml
          # - azure-identity

command: >-
  python continuidad_regular.py 
  --input_predict_datastore ${{inputs.input_predict_continuidad_datastore}}
  --input_target_datastore ${{inputs.input_target_continuidad_datastore}}
  --output_evaluation_datastore ${{outputs.output_evaluation_continuidad_datastore}}
  --target_version ${{inputs.target_version}}
  --model_periodo ${{inputs.model_periodo}}
  --model_version ${{inputs.model_version}}
  --n_eval_periodos ${{inputs.n_eval_periodos}}
  

$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: register_continuidad_regular_horario
version: 1
display_name: Register Continuidad Regular Horario
type: command

inputs:
    model_input_path:
        type: uri_folder
    model_periodo:
        type: integer
    subscription_id:
        type: string
    resource_group:
        type: string
    workspace_name:
        type: string

outputs:
    output_model_continuidad_horario_version:
        type: uri_file

code: .

environment:
  image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:latest
  conda_file:
    channels:
      - conda-forge
    dependencies:
      - python=3.10
      - pip
      - pip:
          - azure-ai-ml
          - azure-identity

command: >-
      python continuidad_regular_horario.py 
      --model_input_path ${{inputs.model_input_path}} 
      --model_periodo ${{inputs.model_periodo}}
      --output_model_version ${{outputs.output_model_continuidad_horario_version}}
environment_variables:
  AZURE_SUBSCRIPTION_ID: ${{inputs.subscription_id}}
  AZURE_RESOURCE_GROUP: ${{inputs.resource_group}}
  AZURE_WORKSPACE_NAME: ${{inputs.workspace_name}}

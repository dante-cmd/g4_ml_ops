# src/components/prep/prep.yml
$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
name: prep_diabetes_data
version: 1
display_name: Prep diabetes data
type: command

inputs:
  input_data:
    type: uri_file

outputs:
  train_data:
    type: uri_folder
  test_data:
    type: uri_folder

code: .

environment:
  image: mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:latest
  conda_file:
    channels:
      - conda-forge
    dependencies:
      - python=3.10
      - pip
      - pip:
          - pandas
          - scikit-learn
          - joblib

command: >-
  python prep.py
  --input_data ${{inputs.input_data}}
  --train_data ${{outputs.train_data}}
  --test_data ${{outputs.test_data}}